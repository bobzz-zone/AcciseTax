[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Order", 
  "modified": "2017-03-19 21:33:16.658601", 
  "name": "Sales Order-Client", 
  "script": "cur_frm.add_fetch(\"item_code\", \"accise_tax_weight\", \"accise_tax_weight\");\ncur_frm.add_fetch(\"item_code\", \"accise_tax_value\", \"accise_tax_value\");\ncur_frm.add_fetch(\"item_code\", \"accise_tax_applied\", \"accise_tax_applied\");\n\ncur_frm.cscript.is_accise= function(doc,dt,dn) {\n   var d=locals[dt][dn];\nvar total=0;\n$.each(doc.items, function(i, d) {\nif (d.accise_tax_applied==1){\ntotal+=d.qty*d.accise_tax_applied*d.accise_tax_value;\n}\n});\n$.each(doc.taxes, function(i, d) {\nif (d.is_accise==1){\nd.tax_amount=total;\n}\n});\nrefresh_field(\"taxes\");\n}\n\n\ncur_frm.cscript.qty= function(doc,dt,dn) {\n   var d=locals[dt][dn];\nvar total=0;\n$.each(doc.items, function(i, d) {\nif (d.accise_tax_applied==1){\ntotal+=d.qty*d.accise_tax_applied*d.accise_tax_value;\n}\n});\n$.each(doc.taxes, function(i, d) {\nif (d.is_accise==1){\nd.tax_amount=total;\n}\n});\nrefresh_field(\"taxes\");\n}\n\n\ncur_frm.cscript.item_code= function(doc,dt,dn) {\n   var d=locals[dt][dn];\nvar total=0;\n$.each(doc.items, function(i, d) {\nif (d.accise_tax_applied==1){\ntotal+=d.qty*d.accise_tax_applied*d.accise_tax_value;\n}\n});\n$.each(doc.taxes, function(i, d) {\nif (d.is_accise==1){\nd.tax_amount=total;\n}\n});\nrefresh_field(\"taxes\");\n}\n\n\n\n\n", 
  "script_type": "Client"
 }
]